<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: tripContainer.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: tripContainer.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { nextImage } from './slider';
import $ from 'jquery';
window.$ = $;

/**
 * Creates the trip container with HTML elements for holding trip data.
 *
 * @param {JSON} trip trip data in JSON format
 * @returns returns a div containing the trip information put together.
 */
export const createTripContainer = (trip, id) => {
	// container for the whole trip data
	const tripContainer = $('&lt;div>');
	tripContainer.addClass('trip-container');
	tripContainer.attr('id', `trip-${id}`);

	// container for box selection for each trip
	const tripContainerHeader = $('&lt;div>');
	tripContainerHeader.addClass('trip-container-header');

	tripContainerHeader.append(tripCheckBox(id));
	tripContainerHeader.append(
		`&lt;img class=delete-trip id=trash-${id} src='./icons/trash-can-regular.svg'>`,
	);

	tripContainer.append(tripContainerHeader);

	// trip title
	tripContainer.append(`&lt;p class='trip-title'>${trip.title}&lt;/p>`);

	// add trip images to trip container
	tripContainer.append(tripImages(trip.images, id));

	// draw trip star ratings
	tripContainer.append(createStarContainer(trip.rating));

	// trip location
	tripContainer.append(`&lt;p class='location'>${trip.address}&lt;/p>`);

	tripContainer.append(`&lt;p class='description'>${trip.description}&lt;/p>`);
	tripContainer.css({ 'box-shadow': 'rgba(17, 17, 26, 0.1) 0px 1px 0px', width: '65%' });

	return tripContainer;
};

/**
 * Creates and returns a div which contains 5 other divs (they will later be converted to stars).
 * Out of these 5 divs rating stars will be yellow representing trip rating.
 *
 * @param {int} rating trip rating between 1-5
 * @returns return a div containing 5 stars
 */
export const createStarContainer = (rating) => {
	// container for trip ratings
	const starContainer = $('&lt;div>');
	starContainer.addClass('star-container');

	// draw full star
	for (let i = 0; i &lt; rating; i++) {
		const star = `&lt;div class='star-outline-static'>
                  &lt;div class='star-fill-static filled'>&lt;/div>
                  &lt;/div>`;
		starContainer.append(star);
	}

	// draw empty star
	for (let i = 0; i &lt; 5 - rating; i++) {
		const star = `&lt;div class='star-outline-static'>
                  &lt;div class='star-fill-static'>&lt;/div>
                  &lt;/div>`;
		starContainer.append(star);
	}

	return starContainer;
};

/**
 * Create a container for holding trip images.
 *
 * @param {Array} images array with images URL
 * @param {int} id trip id
 * @returns returns a div containing the images as a slider
 */
export const tripImages = (images, id) => {
	// container for trip images
	const tripImagesContainer = $(`&lt;div class='trip-images'>&lt;/div>`);

	if (images.length > 1) {
		// left image navigation button
		tripImagesContainer.append(imageSlider(id, -1, 'left'));
	}

	// the first image should not be hidden
	tripImagesContainer.append(`&lt;img class='trip-imgs ${id}' src=${images[0]}>`);

	// images excluding the first one
	const imgs = images.slice(1, images.length);
	imgs.forEach((image) => {
		tripImagesContainer.append(`&lt;img class='trip-imgs ${id}' src=${image} hidden>`);
	});

	if (images.length > 1) {
		// right image navigation button
		tripImagesContainer.append(imageSlider(id, 1, 'right'));
	}

	return tripImagesContainer;
};

/**
 * Creates image slider. Adds 2 arrows to the trip image container which are used to 'swipe' the images.
 *
 * @param {int} id the id of the trip
 * @param {int} next value -1 or 1 indicates if it should display the next image or the previous image
 * @param {string} direction arrow direction (left or right)
 * @returns returns the navigation buttons with the click event attached
 */
const imageSlider = (id, next, direction) => {
	// create image sliders
	const nav = $(
		`&lt;img class='img-nav ${direction}' id='${id} ${direction}' src='./icons/angle-left-solid.svg'>`,
	);

	// add event handler when image slider is clicked
	// left image slider handler
	nav.on('click', () => {
		const id = nav.attr('id').split(' ')[0];
		nextImage(next, id);
	});

	return nav;
};

const tripCheckBox = (id) => {
	const box = $('&lt;div>');
	box.addClass('trip-box');
	box.attr('id', `trip-box-${id}`);

	return box;
};

const tripCheckBoxEvent = () => {
	$(document).on('click', '.trip-box', function () {
		// get the trip id corresponding to the clicked box
		const trashId = $(this).attr('id');
		const tripId = trashId.split('-')[2];

		$(`#trip-box-${tripId}`).toggleClass('selected-trip');
	});
};

tripCheckBoxEvent();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#createStarContainer">createStarContainer</a></li><li><a href="global.html#createTripContainer">createTripContainer</a></li><li><a href="global.html#imageSlider">imageSlider</a></li><li><a href="global.html#tripImages">tripImages</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Mar 26 2024 10:58:00 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
